@using Web.Helper

@{
	var currentUser = UserHelper.GetCurrentUser();
}

<nav class="navbar navbar-expand navbar-light navbar-bg">
	<a class="sidebar-toggle js-sidebar-toggle">
		<i class="hamburger align-self-center"></i>
	</a>

	<form class="d-none d-sm-inline-block">
		<div class="input-group input-group-navbar">
			<input type="text" class="form-control" placeholder="Search…" aria-label="Search">
			<button class="btn" type="button">
				<i class="align-middle" data-feather="search"></i>
			</button>
		</div>
	</form>

	<div class="navbar-collapse collapse">
		<ul class="navbar-nav navbar-align">
			<li class="nav-item">
				<a class="nav-icon js-fullscreen d-none d-lg-block" href="#">
					<div class="position-relative">
						<i class="align-middle" data-feather="maximize"></i>
					</div>
				</a>
			</li>
			<li class="nav-item dropdown">
				<a class="nav-icon pe-md-0 dropdown-toggle" href="#" data-bs-toggle="dropdown">
					@if (string.IsNullOrEmpty(currentUser.ProfilePicPath))
					{
						<img src="~/img/general/new-unknown-pic.jpeg" class="avatar img-fluid rounded-circle me-1 @UniqueClass.ProfilePic" alt="profile pic">
					}
					else
					{
						<img src="@currentUser.ProfilePicPath" class="avatar img-fluid rounded-circle me-1 @UniqueClass.ProfilePic" alt="profile pic">
					}
				</a>
				<div class="dropdown-menu dropdown-menu-end">
					<a class="dropdown-item" asp-controller="Home" asp-action="Profile"><i class="align-middle me-1" data-feather="user"></i> Profile</a>
					<a class="dropdown-item" asp-controller="Home" asp-action="Index"><i class="align-middle me-1" data-feather="sliders"></i> Dashboard</a>
					<div class="dropdown-divider"></div>
					<a class="dropdown-item" href="#"><i class="align-middle me-1" data-feather="help-circle"></i> Help Center</a>
					<div class="dropdown-divider"></div>
					<form method="post" asp-controller="Account" asp-action="Logout">
						<button type="submit" class="dropdown-item">Log out</button>
					</form>
				</div>
			</li>
		</ul>
	</div>
</nav>
